<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>新闻内容</title>
    <link type="text/css" rel="stylesheet" href="/html/webui/css/searchJob.css"/>
    <script type="text/javascript" src="/html/webui/js/jquery-1.8.2.min.js"></script>
</head>

<body>
<!--引入页头页面-->
<div id="headers" style="margin-bottom: 20px"></div>

<div class="jobnewsDiv_xq">
    <div class="XQcontent">
        <div class="XQleft">
            <div class="XQtitle">
                <h1 id="news_title"></h1>
                <h2>标签：[<a id="news_category"></a>]
                    发布日期：<span id="news_date"></span>
                    阅读数：<span id="news_clickTimes"></span>
                    作者： <span id="news_writer"></span></h2>
            </div>
            <div class="XQcon" id="news_content">
                <!--新闻内容开始-->


                <!--新闻内容结束-->
            </div>
        </div>
        <div class="XQright">
            <div class="hotguanzhu">
                <div class="tit">热点关注</div>
                <div class="con">
                    <div class="conl"></div>
                    <div id="latestNews" class="conr" >

                    </div>
                </div>
            </div>
        </div>
        <div class="clear"></div>
    </div>
</div>

<!--引入尾部页面-->
<div id="footer"></div>

<script type="text/javascript">
    $(function () {
        $("#headers").load("/html/webui/header/header.html");
        $("#footer").load("/html/webui/footer/footer.html");

        getNewsById(localStorage.getItem("newsId"));
    });

    //根据newsId去查找新闻
    function getNewsById(newsId) {
        if (newsId != null) {
            $.ajax({
                type: "GET",
                url: "/user/news/searchNewsById",
                data: "newsId=" + newsId,
                success: function (data) {
                    if (data.code === 200) {
                        fillPage(data.data[0]);
                        doData(data.data[1]);
                    }
                },
                error: function (data) {
                    layer.msg('网络异常');
                }
            });
        }
    }

    //根据新闻对象渲染页面
    function fillPage(news) {
        document.getElementById("news_title").innerText = news.newsTitle;
        document.getElementById("news_category").innerText = news.newsCategory;
        document.getElementById("news_date").innerText = news.newsPublistime;
        document.getElementById("news_clickTimes").innerText = news.newsBrowsecount;
        document.getElementById("news_content").innerHTML = news.newsContent;
        document.getElementById("news_writer").innerText = news.newsAuthor;
    }


    //渲染html
    ///根据ajax数据进行渲染
    function doData(arrParO) {
        const $active = $("#latestNews");
        $active.html("");
        $.each(arrParO, function (i, obj) {
            alert(i)
            const $children = $('<a href="jobnews_xq.html">求知的时候如何描述个人综合能力</a>');
            const $children1 = $('<a href="jobnews_xq.html">求知的时候如何描述个人综合能力</a>');
            const $children2 = $('<a href="jobnews_xq.html">求知的时候如何描述个人综合能力</a>');
            $active.append($children);
            $active.append($children1);
            $active.append($children2);
        });
    }

</script>
</body>
</html>
